---
typora-root-url: ..
---

## 结构体的对齐

![img](http://104.224.150.81:8080/images/2020/04/13/9.png)

例子：

```c
#include <stdio.h>
struct abc{
	char a;
	short e;
	int b;
};
struct my{
	char a;
	int b;
	short e;
};
int main()
{
	struct abc buf;
	struct my buf1;
	
	printf("the buf is %lu:%lu\n",sizeof(buf),sizeof(buf1));
}
```

输出结果：8 12

原因：struct结构体是按四字节对齐的。但是如果前面一个空出来的空间可以放下下一个变量的时候，就会把下一个变量挤进去。例如此处的short可以存放进入char类型所剩下的三个字节中。如下图：

![img](http://104.224.150.81:8080/images/2020/04/13/10.png)

所以一个只占用了8个而另一个是12个。

