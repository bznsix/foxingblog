---
typora-root-url: ..
---

# GCC使用和常见错误

### 一，GCC

gcc -o 输出文件名 输入文件名

linux 输出0代表成功

运行文件 ./  从当前目录下去寻找文件进行解释执行

文件后缀名很敏感 根据后缀名不同来调用不同的组织来服务

cp 1 2把一复制为二

#### 预处理

cpp -o a.i 001.c

*[gcc -E]*

把define 替换成你所设定的

#### 编译

/usr/lib/gcc/1486-linux-rnu/4. 4. 3/ccl -o a.s 001.c

#### 汇编

*[gcc-c]*

#### 链接

/usr/lib/gcc/1486-linux-gnw/4. 4. 3/collect2 -o build a.o+.
*[gcc-o]*
gcc -o build 001.c
【问】
define include是关键字吗?

不是关键字，在预处理阶段被替换了。

### 二，常见错误

#### 备注 vi命令的使用

 按ESC键 跳到[命令模式](https://www.baidu.com/s?wd=命令模式&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)，然后：

:w 保存文件但不退出vi
:w file 将修改另外保存到file中，不退出vi
:w! 强制保存，不推出vi
:wq 保存文件并退出vi
:wq! 强制保存文件，并退出vi
q: 不保存文件，退出vi
:q! 不保存文件，强制退出vi
:e! 放弃所有修改，从上次保存文件开始再编辑 

#### 注意include"" <>的区别

“ ”不仅在当前目录下寻找也会在环境变量中寻找

<>只在环境变量中寻找，一般是标准库文件

#### 针对预处理错误 not find

解决方法：gcc-I 跟查找头文件的目录

linux中 cd ..代表返回上一层

​			  cd ./表示从当前一层开始

#### 编译错误

语法错误;{}
链接错误:
原材料不够
undefined reference to fun
寻找标签是否实现了,链接时是否加入一起链接
多了
multiple definition of fun
多次实现了标签,只保留一个标签实现

### 三，预处理的使用

```c#
#include包含头文件

#define 宏替换,不进行语法检查

#define 宏名 宏体  加括号
#define ABC 5+3
printf("the %d\n,ABC*5");  5+3×5 出现错误
#define ABC (5+3)
#define ABC (x)(5+(x))
#Ifdef #else #endif
预定义宏(已经定义好，不允许改变)
__FUNCTION__:函数名
__LINE__  :行号
__file__:文件名
```

#### 条件预处理

在编译前添加

gcc -D直接加宏名 声明这个宏已经定义了

配合#ifdef #endif 可以实现在发行版本和内测版本的回跳

#### 宏展开下的#，##

在宏体下实现 #define ABC #A ,展开来是个字符串“A”

​						 #define DAY(x)   myday##x

​						 int myday1 = 10;就可直接写为 DAY(1);